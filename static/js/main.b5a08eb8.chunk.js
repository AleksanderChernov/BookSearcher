(this["webpackJsonpbook-searcher"]=this["webpackJsonpbook-searcher"]||[]).push([[0],{217:function(e,a,c){},218:function(e,a,c){},398:function(e,a,c){},399:function(e,a,c){},400:function(e,a,c){},402:function(e,a,c){},403:function(e,a,c){"use strict";c.r(a);var t={};c.r(t),c.d(t,"searchForBooks",(function(){return F})),c.d(t,"default",(function(){return A}));var n={};c.r(n),c.d(n,"bindBookInfo",(function(){return q})),c.d(n,"clearBookInfo",(function(){return J}));var r,o,s=c(0),i=c.n(s),l=c(28),u=c.n(l),d=c(109),j=c(20),b=c(53),h=c(58),p=c(193);!function(e){e.Search="searchBooks",e.SearchFailed="searchBooksFail",e.SearchSuccessful="searchBooksSuccess"}(r||(r={})),function(e){e.Add="addClickedBook",e.Clear="clearClickedBook"}(o||(o={}));var m={isLoading:!1,booksData:[],error:null},O={clickedBookData:{}},f=Object(h.c)({bookItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.Search:return{isLoading:!0,booksData:[],error:null};case r.SearchFailed:return{isLoading:!1,booksData:[],error:a.payload};case r.SearchSuccessful:return{isLoading:!1,booksData:a.payload,error:null};default:return e}},clickedBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case o.Add:return{clickedBookData:a.payload};case o.Clear:return{clickedBookData:{}};default:return e}}}),k=Object(h.d)(f,Object(h.a)(p.a)),x=(c(217),c(218),c(409)),v=c(407),g=c(411),_=c(203),y=c(405),N=c(92),I=c.n(N),B=c(122),L=Object(b.b)(),D=c(147),S=c.n(D),C=c(194),w=c(195),V=c.n(w),F=function(e,a,c){return function(){var t=Object(C.a)(S.a.mark((function t(n){var o,s,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:r.Search}),t.prev=1,t.next=4,V.a.get("https://books.googleapis.com/books/v1/volumes?q=".concat(e,"+subject:").concat(a,"&orderBy=").concat(c),{params:{maxResults:40}});case 4:o=t.sent,s=o.data,console.log(s),i=s.items.map((function(e){return e.volumeInfo})),n({type:r.SearchSuccessful,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n({type:r.SearchFailed,payload:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},A=F,q=function(e){return function(a){return a({type:o.Add,payload:e})}},J=function(){return function(e){return e({type:o.Clear})}},R={validation:[{required:!0,message:"\u041f\u043e\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"},{max:35,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 35 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}]},T=c(7),z=x.a.Option,E=function(){var e=function(){var e=Object(b.c)();return Object(h.b)(t,e)}().searchForBooks,a=L((function(e){return e.bookItems})),c=a.error,n=a.isLoading;return Object(T.jsxs)("div",{className:"search-bar__wrapper",children:[Object(T.jsx)(I.a,{className:"search-bar__title",level:2,children:"\u041f\u043e\u0438\u0441\u043a"}),Object(T.jsxs)(v.a,{onFinish:function(a){var c=Object.values(a);e(c[0],c[1],c[2])},name:"form",className:"search-bar__form",children:[Object(T.jsx)(v.a.Item,{name:"bookInput",rules:R.validation,children:Object(T.jsx)(g.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"search-bar__input"})}),Object(T.jsx)(I.a,{className:"search-bar__title",level:5,children:"\u0416\u0430\u043d\u0440\u044b"}),Object(T.jsx)(v.a.Item,{name:"bookSubject",initialValue:"",children:Object(T.jsx)(x.a,{defaultValue:"\u041b\u044e\u0431\u043e\u0439",children:[{value:"",title:"\u041b\u044e\u0431\u043e\u0439"},{value:"art",title:"\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e"},{value:"biography",title:"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f"},{value:"computers",title:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b"},{value:"history",title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"},{value:"medical",title:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430"},{value:"poetry",title:"\u041f\u043e\u044d\u0437\u0438\u044f"}].map((function(e){return Object(T.jsx)(z,{value:e.value,children:e.title})}))})}),Object(T.jsx)(I.a,{className:"search-bar__title",level:5,children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(T.jsx)(v.a.Item,{name:"bookRelevance",initialValue:"relevance",children:Object(T.jsxs)(x.a,{defaultValue:"relevance",children:[Object(T.jsx)(z,{value:"relevance",children:"\u0421\u0430\u043c\u043e\u0435 \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0435"}),Object(T.jsx)(z,{value:"newest",children:"\u0421\u0430\u043c\u043e\u0435 \u043d\u043e\u0432\u043e\u0435"})]})}),Object(T.jsx)(_.a,{type:"primary",htmlType:"submit",className:"search-bar__button",icon:Object(T.jsx)(B.a,{}),size:"large",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]}),c&&Object(T.jsx)("h3",{className:"search-bar__error",children:c}),n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h3",{className:"search-bar__loading",children:"\u0412\u044b\u0432\u043e\u0436\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),Object(T.jsx)(y.a,{})]})]})},M=c(95),P=c(408),G=c(51),H=c(406),K=c.p+"static/media/annelies-geneyn-unsplash-book-placeholder.2639af2d.jpg",Q=(c(398),P.a.Title),U=function(e){var a=e.authors,c=e.categories,t=e.imageLinks,r=e.title,o=e.description,s=e.canonicalVolumeLink,i=e.pageCount,l=e.language,u=e.publishedDate,d=a?a.join(", "):"\u0410\u0432\u0442\u043e\u0440\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b",p=c?c.join(", "):"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b",m=r||"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",O=t?t.thumbnail:K,f=Object(j.f)(),k=Object(b.c)(),x=function(){var e=Object(b.c)();return Object(h.b)(n,e)}(),v=x.bindBookInfo,g={authors:a,title:r,categories:c,authorsInfo:d,imageInfo:O,imageLinks:t,categoriesInfo:p,titleInfo:m,canonicalVolumeLink:s,description:o,pageCount:i,language:l,publishedDate:u};return Object(T.jsx)(G.a,{span:7,className:"book-card__wrapper",onClick:function(){return k(v(g)),void f("../book/".concat(r))},children:Object(T.jsxs)(H.a,{hoverable:!0,className:"book-card__flex-container",cover:Object(T.jsx)("img",{alt:"imageInfo",className:"book-card__thumbnail",src:O}),children:[Object(T.jsx)(Q,{level:4,className:"book-card__title",children:m}),Object(T.jsxs)(Q,{level:5,className:"book-card__info",children:["\u0410\u0432\u0442\u043e\u0440/\u044b:"," ",d]}),Object(T.jsxs)(Q,{level:5,className:"book-card__info",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:"," ",p]})]})})},W=(c(399),function(){var e=L((function(e){return e.bookItems})),a=e.booksData,c=e.error,t=e.isLoading;return Object(T.jsx)("div",{className:"found-books",children:Object(T.jsx)(M.a,{gutter:[5,20],justify:"space-around",className:"found-books__grid-wrapper",children:!c&&!t&&a.map((function(e){return Object(T.jsx)(U,{canonicalVolumeLink:e.canonicalVolumeLink,description:e.description,pageCount:e.pageCount,language:e.language,publishedDate:e.publishedDate,authors:e.authors,categories:e.categories,title:e.title,imageLinks:e.imageLinks},e.publishedDate+e.title)}))})})}),X=function(){return Object(T.jsxs)("div",{className:"books",children:[Object(T.jsx)(E,{}),Object(T.jsx)(W,{})]})},Y=c(204),Z=c(410),$=(c(400),Z.a.Panel),ee=function(e){e.authors,e.categories,e.imageLinks;var a=e.authorsInfo,c=e.categoriesInfo,t=e.titleInfo,n=e.imageInfo,r=e.canonicalVolumeLink,o=e.description,s=e.pageCount,i=e.language,l=e.publishedDate,u=Object(j.f)();return Object(T.jsx)("div",{className:"book",children:Object(T.jsxs)("article",{className:"book__wrapper",children:[Object(T.jsxs)("div",{className:"book__image-title-box",children:[Object(T.jsx)("img",{className:"book__image",src:n,alt:t}),Object(T.jsxs)("div",{className:"book__description-box",children:[Object(T.jsx)(I.a,{level:2,className:"book__header",children:t}),Object(T.jsx)("p",{className:"book__description",children:o})]})]}),Object(T.jsxs)(Z.a,{accordion:!0,className:"book__list",children:[Object(T.jsx)($,{header:"\u0410\u0432\u0442\u043e\u0440\u044b",children:Object(T.jsx)("p",{children:a})},"1"),Object(T.jsx)($,{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",children:Object(T.jsx)("p",{children:c})},"2"),Object(T.jsx)($,{header:"\u0421\u0441\u044b\u043b\u043a\u0430",children:Object(T.jsx)("a",{href:r,children:r})},"3"),Object(T.jsx)($,{header:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446",children:Object(T.jsxs)("p",{children:[s,"  ","c\u0442\u0440\u0430\u043d\u0438\u0446"]})},"4"),Object(T.jsx)($,{header:"\u042f\u0437\u044b\u043a",children:Object(T.jsx)("p",{children:i})},"5"),Object(T.jsx)($,{header:"\u0418\u0437\u0434\u0430\u043d\u043e",children:Object(T.jsx)("p",{children:l})},"6")]}),Object(T.jsx)(_.a,{type:"primary",onClick:function(){u("/")},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]})})},ae=function(){var e=L((function(e){return e.clickedBook}));return Object(T.jsx)(ee,Object(Y.a)({},e.clickedBookData))},ce=function(){return Object(T.jsx)(b.a,{store:k,children:Object(T.jsx)(d.a,{children:Object(T.jsxs)(j.c,{children:[Object(T.jsx)(j.a,{path:"/",element:Object(T.jsx)(X,{})}),Object(T.jsx)(j.a,{path:"/book/:id",element:Object(T.jsx)(ae,{})})]})})})};c(401),c(402);u.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(ce,{})}),document.getElementById("root"))}},[[403,1,2]]]);
//# sourceMappingURL=main.b5a08eb8.chunk.js.map